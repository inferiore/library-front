{"ast":null,"code":"var _jsxFileName = \"/Users/ederbarrios/Projects/Tests/Claude/library-react/mi-app/src/components/BookEdit.tsx\",\n  _s = $RefreshSig$();\n// src/components/BookEdit.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport useStore from '../store/store';\nimport { booksApi, ApiError } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookEdit = () => {\n  _s();\n  const [book, setBook] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    genre: '',\n    isbn: '',\n    total_copies: 1\n  });\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    isLoading,\n    setLoading,\n    updateBook,\n    clearUser\n  } = useStore();\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (user.role !== 'librarian') {\n      navigate('/books');\n      return;\n    }\n    if (id) {\n      fetchBookDetails(parseInt(id));\n    }\n  }, [id, user, navigate]);\n  const fetchBookDetails = async bookId => {\n    if (!user) return;\n    setLoading(true);\n    setError('');\n    try {\n      const data = await booksApi.getBook(user.token, bookId);\n      const bookData = data.data;\n      setBook(bookData);\n\n      // Populate form with current book data\n      setFormData({\n        title: bookData.title,\n        author: bookData.author,\n        genre: bookData.genre,\n        isbn: bookData.isbn,\n        total_copies: bookData.total_copies\n      });\n    } catch (error) {\n      console.error('Error fetching book details:', error);\n      if (error instanceof ApiError) {\n        if (error.status === 401) {\n          clearUser();\n          navigate('/login');\n          return;\n        }\n        setError(error.message);\n      } else {\n        setError('Failed to load book details');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: name === 'total_copies' ? parseInt(value) || 1 : value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user || !book) return;\n    setIsSubmitting(true);\n    setError('');\n\n    // Basic validation\n    if (!formData.title || !formData.author || !formData.genre || !formData.isbn) {\n      setError('All fields are required');\n      setIsSubmitting(false);\n      return;\n    }\n    if (formData.total_copies < 1) {\n      setError('Total copies must be at least 1');\n      setIsSubmitting(false);\n      return;\n    }\n    try {\n      const response = await fetch(`http://localhost:8000/api/books/${book.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to update book');\n      }\n      const data = await response.json();\n      updateBook(book.id, data.data || data);\n      alert('Book updated successfully!');\n      navigate(`/books/${book.id}`);\n    } catch (error) {\n      console.error('Error updating book:', error);\n      setError(error instanceof Error ? error.message : 'Failed to update book');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleLogout = () => {\n    clearUser();\n    navigate('/login');\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n  if (!user || user.role !== 'librarian') return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '800px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '30px',\n        paddingBottom: '20px',\n        borderBottom: '1px solid #eee'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Edit Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Welcome, \", user.name, \" (\", user.role, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/books'),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Back to Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), book && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(`/books/${book.id}`),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#17a2b8',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"View Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#dc3545',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        backgroundColor: '#ffebee',\n        padding: '10px',\n        borderRadius: '4px',\n        marginBottom: '20px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px'\n      },\n      children: \"Loading book details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this), !isLoading && book && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        border: '1px solid #ddd',\n        borderRadius: '8px',\n        padding: '30px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: '0 0 10px 0',\n            color: '#333'\n          },\n          children: [\"Editing: \", book.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            margin: '0'\n          },\n          children: [\"Book ID: \", book.id, \" \\u2022 Created: \", formatDate(book.created_at), \" \\u2022 Last updated: \", formatDate(book.updated_at)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), book.available_copies !== undefined && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            margin: '5px 0 0 0'\n          },\n          children: [\"Current availability: \", book.available_copies, \" / \", book.total_copies, \" copies\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '20px',\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"Title: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"Author: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"author\",\n              value: formData.author,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"Genre: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"genre\",\n              value: formData.genre,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"ISBN: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"isbn\",\n              value: formData.isbn,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"Total Copies: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"total_copies\",\n              value: formData.total_copies,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              min: \"1\",\n              max: \"1000\",\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#666',\n                fontSize: '14px'\n              },\n              children: [\"Current: \", book.total_copies, \" copies\", book.available_copies !== undefined && ` (${book.available_copies} available)`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), formData.total_copies !== book.total_copies && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#fff3cd',\n            border: '1px solid #ffeaa7',\n            borderRadius: '4px',\n            padding: '10px',\n            marginBottom: '20px',\n            color: '#856404'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u26A0\\uFE0F Warning:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 17\n          }, this), \" Changing the total number of copies may affect book availability. Current borrowings will not be affected, but available copies may change.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => navigate(`/books/${book.id}`),\n            disabled: isSubmitting,\n            style: {\n              padding: '12px 24px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: isSubmitting ? 'not-allowed' : 'pointer',\n              fontSize: '16px'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isSubmitting,\n            style: {\n              padding: '12px 24px',\n              backgroundColor: isSubmitting ? '#6c757d' : '#28a745',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: isSubmitting ? 'not-allowed' : 'pointer',\n              fontSize: '16px',\n              fontWeight: 'bold'\n            },\n            children: isSubmitting ? 'Updating...' : 'Update Book'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this), !isLoading && !book && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Book Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"The book you're trying to edit doesn't exist or has been removed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/books'),\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer',\n          marginTop: '10px'\n        },\n        children: \"Back to Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n_s(BookEdit, \"77tyjMp6+nc6pYEMwcOI/d7lnkA=\", false, function () {\n  return [useParams, useNavigate, useStore];\n});\n_c = BookEdit;\nexport default BookEdit;\nvar _c;\n$RefreshReg$(_c, \"BookEdit\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useStore","booksApi","ApiError","jsxDEV","_jsxDEV","BookEdit","_s","book","setBook","formData","setFormData","title","author","genre","isbn","total_copies","error","setError","isSubmitting","setIsSubmitting","id","navigate","user","isLoading","setLoading","updateBook","clearUser","role","fetchBookDetails","parseInt","bookId","data","getBook","token","bookData","console","status","message","handleInputChange","e","name","value","target","prev","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","alert","handleLogout","formatDate","dateString","Date","toLocaleDateString","style","padding","maxWidth","margin","children","display","justifyContent","alignItems","marginBottom","paddingBottom","borderBottom","fileName","_jsxFileName","lineNumber","columnNumber","gap","onClick","backgroundColor","color","border","borderRadius","cursor","textAlign","boxShadow","created_at","updated_at","available_copies","undefined","onSubmit","gridTemplateColumns","fontWeight","type","onChange","disabled","required","width","fontSize","min","max","marginTop","_c","$RefreshReg$"],"sources":["/Users/ederbarrios/Projects/Tests/Claude/library-react/mi-app/src/components/BookEdit.tsx"],"sourcesContent":["\n// src/components/BookEdit.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport useStore from '../store/store';\nimport { booksApi, ApiError } from '../services/api';\n\ninterface BookEditData {\n  id: number;\n  title: string;\n  author: string;\n  genre: string;\n  isbn: string;\n  total_copies: number;\n  available_copies: number;\n  created_at: string;\n  updated_at: string;\n}\n\nconst BookEdit: React.FC = () => {\n  const [book, setBook] = useState<BookEditData | null>(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    genre: '',\n    isbn: '',\n    total_copies: 1,\n  });\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  \n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { user, isLoading, setLoading, updateBook, clearUser } = useStore();\n\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (user.role !== 'librarian') {\n      navigate('/books');\n      return;\n    }\n    if (id) {\n      fetchBookDetails(parseInt(id));\n    }\n  }, [id, user, navigate]);\n\n  const fetchBookDetails = async (bookId: number) => {\n    if (!user) return;\n    \n    setLoading(true);\n    setError('');\n    \n    try {\n      const data = await booksApi.getBook(user.token, bookId);\n      const bookData = data.data!;\n      setBook(bookData);\n      \n      // Populate form with current book data\n      setFormData({\n        title: bookData.title,\n        author: bookData.author,\n        genre: bookData.genre,\n        isbn: bookData.isbn,\n        total_copies: bookData.total_copies,\n      });\n    } catch (error) {\n      console.error('Error fetching book details:', error);\n      if (error instanceof ApiError) {\n        if (error.status === 401) {\n          clearUser();\n          navigate('/login');\n          return;\n        }\n        setError(error.message);\n      } else {\n        setError('Failed to load book details');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: name === 'total_copies' ? parseInt(value) || 1 : value\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !book) return;\n\n    setIsSubmitting(true);\n    setError('');\n\n    // Basic validation\n    if (!formData.title || !formData.author || !formData.genre || !formData.isbn) {\n      setError('All fields are required');\n      setIsSubmitting(false);\n      return;\n    }\n\n    if (formData.total_copies < 1) {\n      setError('Total copies must be at least 1');\n      setIsSubmitting(false);\n      return;\n    }\n\n    try {\n      const response = await fetch(`http://localhost:8000/api/books/${book.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to update book');\n      }\n\n      const data = await response.json();\n      updateBook(book.id, data.data || data);\n      \n      alert('Book updated successfully!');\n      navigate(`/books/${book.id}`);\n    } catch (error) {\n      console.error('Error updating book:', error);\n      setError(error instanceof Error ? error.message : 'Failed to update book');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleLogout = () => {\n    clearUser();\n    navigate('/login');\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  if (!user || user.role !== 'librarian') return null;\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '800px', margin: '0 auto' }}>\n      {/* Header */}\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center', \n        marginBottom: '30px',\n        paddingBottom: '20px',\n        borderBottom: '1px solid #eee'\n      }}>\n        <div>\n          <h1>Edit Book</h1>\n          <p>Welcome, {user.name} ({user.role})</p>\n        </div>\n        <div style={{ display: 'flex', gap: '10px' }}>\n          <button \n            onClick={() => navigate('/books')}\n            style={{ \n              padding: '8px 16px', \n              backgroundColor: '#007bff', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Back to Books\n          </button>\n          {book && (\n            <button \n              onClick={() => navigate(`/books/${book.id}`)}\n              style={{ \n                padding: '8px 16px', \n                backgroundColor: '#17a2b8', \n                color: 'white', \n                border: 'none', \n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n            >\n              View Details\n            </button>\n          )}\n          <button \n            onClick={handleLogout}\n            style={{ \n              padding: '8px 16px', \n              backgroundColor: '#dc3545', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      {/* Error Display */}\n      {error && (\n        <div style={{ \n          color: 'red', \n          backgroundColor: '#ffebee', \n          padding: '10px', \n          borderRadius: '4px', \n          marginBottom: '20px' \n        }}>\n          {error}\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoading && (\n        <div style={{ textAlign: 'center', padding: '40px' }}>\n          Loading book details...\n        </div>\n      )}\n\n      {/* Edit Form */}\n      {!isLoading && book && (\n        <div style={{ \n          backgroundColor: 'white', \n          border: '1px solid #ddd', \n          borderRadius: '8px', \n          padding: '30px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        }}>\n          <div style={{ marginBottom: '20px' }}>\n            <h2 style={{ margin: '0 0 10px 0', color: '#333' }}>\n              Editing: {book.title}\n            </h2>\n            <p style={{ color: '#666', margin: '0' }}>\n              Book ID: {book.id} • Created: {formatDate(book.created_at)} • \n              Last updated: {formatDate(book.updated_at)}\n            </p>\n            {book.available_copies !== undefined && (\n              <p style={{ color: '#666', margin: '5px 0 0 0' }}>\n                Current availability: {book.available_copies} / {book.total_copies} copies\n              </p>\n            )}\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginBottom: '20px' }}>\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Title: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Author: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"author\"\n                  value={formData.author}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Genre: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"genre\"\n                  value={formData.genre}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  ISBN: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"isbn\"\n                  value={formData.isbn}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Total Copies: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"total_copies\"\n                  value={formData.total_copies}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  min=\"1\"\n                  max=\"1000\"\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n                <small style={{ color: '#666', fontSize: '14px' }}>\n                  Current: {book.total_copies} copies\n                  {book.available_copies !== undefined && \n                    ` (${book.available_copies} available)`\n                  }\n                </small>\n              </div>\n            </div>\n\n            {/* Warning about changing total copies */}\n            {formData.total_copies !== book.total_copies && (\n              <div style={{ \n                backgroundColor: '#fff3cd', \n                border: '1px solid #ffeaa7', \n                borderRadius: '4px', \n                padding: '10px', \n                marginBottom: '20px',\n                color: '#856404'\n              }}>\n                <strong>⚠️ Warning:</strong> Changing the total number of copies may affect book availability. \n                Current borrowings will not be affected, but available copies may change.\n              </div>\n            )}\n\n            <div style={{ display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\n              <button\n                type=\"button\"\n                onClick={() => navigate(`/books/${book.id}`)}\n                disabled={isSubmitting}\n                style={{ \n                  padding: '12px 24px', \n                  backgroundColor: '#6c757d', \n                  color: 'white', \n                  border: 'none', \n                  borderRadius: '4px',\n                  cursor: isSubmitting ? 'not-allowed' : 'pointer',\n                  fontSize: '16px'\n                }}\n              >\n                Cancel\n              </button>\n              \n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                style={{ \n                  padding: '12px 24px', \n                  backgroundColor: isSubmitting ? '#6c757d' : '#28a745', \n                  color: 'white', \n                  border: 'none', \n                  borderRadius: '4px',\n                  cursor: isSubmitting ? 'not-allowed' : 'pointer',\n                  fontSize: '16px',\n                  fontWeight: 'bold'\n                }}\n              >\n                {isSubmitting ? 'Updating...' : 'Update Book'}\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Book Not Found */}\n      {!isLoading && !book && !error && (\n        <div style={{ textAlign: 'center', padding: '40px' }}>\n          <h2>Book Not Found</h2>\n          <p>The book you're trying to edit doesn't exist or has been removed.</p>\n          <button \n            onClick={() => navigate('/books')}\n            style={{ \n              padding: '10px 20px', \n              backgroundColor: '#007bff', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer',\n              marginTop: '10px'\n            }}\n          >\n            Back to Books\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookEdit;\n"],"mappings":";;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAcrD,MAAMC,QAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAsB,IAAI,CAAC;EAC3D,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC;IACvCe,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,EAAE;IACRC,YAAY,EAAE;EAChB,CAAC,CAAC;EACF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACsB,YAAY,EAAEC,eAAe,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EAEvD,MAAM;IAAEwB;EAAG,CAAC,GAAGtB,SAAS,CAAiB,CAAC;EAC1C,MAAMuB,QAAQ,GAAGtB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEuB,IAAI;IAAEC,SAAS;IAAEC,UAAU;IAAEC,UAAU;IAAEC;EAAU,CAAC,GAAG1B,QAAQ,CAAC,CAAC;EAEzEH,SAAS,CAAC,MAAM;IACd,IAAI,CAACyB,IAAI,EAAE;MACTD,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IACA,IAAIC,IAAI,CAACK,IAAI,KAAK,WAAW,EAAE;MAC7BN,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IACA,IAAID,EAAE,EAAE;MACNQ,gBAAgB,CAACC,QAAQ,CAACT,EAAE,CAAC,CAAC;IAChC;EACF,CAAC,EAAE,CAACA,EAAE,EAAEE,IAAI,EAAED,QAAQ,CAAC,CAAC;EAExB,MAAMO,gBAAgB,GAAG,MAAOE,MAAc,IAAK;IACjD,IAAI,CAACR,IAAI,EAAE;IAEXE,UAAU,CAAC,IAAI,CAAC;IAChBP,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMc,IAAI,GAAG,MAAM9B,QAAQ,CAAC+B,OAAO,CAACV,IAAI,CAACW,KAAK,EAAEH,MAAM,CAAC;MACvD,MAAMI,QAAQ,GAAGH,IAAI,CAACA,IAAK;MAC3BvB,OAAO,CAAC0B,QAAQ,CAAC;;MAEjB;MACAxB,WAAW,CAAC;QACVC,KAAK,EAAEuB,QAAQ,CAACvB,KAAK;QACrBC,MAAM,EAAEsB,QAAQ,CAACtB,MAAM;QACvBC,KAAK,EAAEqB,QAAQ,CAACrB,KAAK;QACrBC,IAAI,EAAEoB,QAAQ,CAACpB,IAAI;QACnBC,YAAY,EAAEmB,QAAQ,CAACnB;MACzB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdmB,OAAO,CAACnB,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,IAAIA,KAAK,YAAYd,QAAQ,EAAE;QAC7B,IAAIc,KAAK,CAACoB,MAAM,KAAK,GAAG,EAAE;UACxBV,SAAS,CAAC,CAAC;UACXL,QAAQ,CAAC,QAAQ,CAAC;UAClB;QACF;QACAJ,QAAQ,CAACD,KAAK,CAACqB,OAAO,CAAC;MACzB,CAAC,MAAM;QACLpB,QAAQ,CAAC,6BAA6B,CAAC;MACzC;IACF,CAAC,SAAS;MACRO,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMc,iBAAiB,GAAIC,CAAsC,IAAK;IACpE,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChChC,WAAW,CAACiC,IAAI,KAAK;MACnB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGA,IAAI,KAAK,cAAc,GAAGX,QAAQ,CAACY,KAAK,CAAC,IAAI,CAAC,GAAGA;IAC3D,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOL,CAAkB,IAAK;IACjDA,CAAC,CAACM,cAAc,CAAC,CAAC;IAClB,IAAI,CAACvB,IAAI,IAAI,CAACf,IAAI,EAAE;IAEpBY,eAAe,CAAC,IAAI,CAAC;IACrBF,QAAQ,CAAC,EAAE,CAAC;;IAEZ;IACA,IAAI,CAACR,QAAQ,CAACE,KAAK,IAAI,CAACF,QAAQ,CAACG,MAAM,IAAI,CAACH,QAAQ,CAACI,KAAK,IAAI,CAACJ,QAAQ,CAACK,IAAI,EAAE;MAC5EG,QAAQ,CAAC,yBAAyB,CAAC;MACnCE,eAAe,CAAC,KAAK,CAAC;MACtB;IACF;IAEA,IAAIV,QAAQ,CAACM,YAAY,GAAG,CAAC,EAAE;MAC7BE,QAAQ,CAAC,iCAAiC,CAAC;MAC3CE,eAAe,CAAC,KAAK,CAAC;MACtB;IACF;IAEA,IAAI;MACF,MAAM2B,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCxC,IAAI,CAACa,EAAE,EAAE,EAAE;QACzE4B,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACP,eAAe,EAAE,UAAU3B,IAAI,CAACW,KAAK,EAAE;UACvC,cAAc,EAAE,kBAAkB;UAClC,QAAQ,EAAE;QACZ,CAAC;QACDiB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC3C,QAAQ;MAC/B,CAAC,CAAC;MAEF,IAAI,CAACqC,QAAQ,CAACO,EAAE,EAAE;QAChB,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACjB,OAAO,IAAI,uBAAuB,CAAC;MAC/D;MAEA,MAAMN,IAAI,GAAG,MAAMe,QAAQ,CAACS,IAAI,CAAC,CAAC;MAClC9B,UAAU,CAAClB,IAAI,CAACa,EAAE,EAAEW,IAAI,CAACA,IAAI,IAAIA,IAAI,CAAC;MAEtC0B,KAAK,CAAC,4BAA4B,CAAC;MACnCpC,QAAQ,CAAC,UAAUd,IAAI,CAACa,EAAE,EAAE,CAAC;IAC/B,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdmB,OAAO,CAACnB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CC,QAAQ,CAACD,KAAK,YAAYwC,KAAK,GAAGxC,KAAK,CAACqB,OAAO,GAAG,uBAAuB,CAAC;IAC5E,CAAC,SAAS;MACRlB,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,MAAMuC,YAAY,GAAGA,CAAA,KAAM;IACzBhC,SAAS,CAAC,CAAC;IACXL,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,MAAMsC,UAAU,GAAIC,UAAkB,IAAK;IACzC,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,CAAC;EAClD,CAAC;EAED,IAAI,CAACxC,IAAI,IAAIA,IAAI,CAACK,IAAI,KAAK,WAAW,EAAE,OAAO,IAAI;EAEnD,oBACEvB,OAAA;IAAK2D,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE;IAAS,CAAE;IAAAC,QAAA,gBAEnE/D,OAAA;MAAK2D,KAAK,EAAE;QACVK,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,eAAe;QAC/BC,UAAU,EAAE,QAAQ;QACpBC,YAAY,EAAE,MAAM;QACpBC,aAAa,EAAE,MAAM;QACrBC,YAAY,EAAE;MAChB,CAAE;MAAAN,QAAA,gBACA/D,OAAA;QAAA+D,QAAA,gBACE/D,OAAA;UAAA+D,QAAA,EAAI;QAAS;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAClBzE,OAAA;UAAA+D,QAAA,GAAG,WAAS,EAAC7C,IAAI,CAACkB,IAAI,EAAC,IAAE,EAAClB,IAAI,CAACK,IAAI,EAAC,GAAC;QAAA;UAAA+C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACNzE,OAAA;QAAK2D,KAAK,EAAE;UAAEK,OAAO,EAAE,MAAM;UAAEU,GAAG,EAAE;QAAO,CAAE;QAAAX,QAAA,gBAC3C/D,OAAA;UACE2E,OAAO,EAAEA,CAAA,KAAM1D,QAAQ,CAAC,QAAQ,CAAE;UAClC0C,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBgB,eAAe,EAAE,SAAS;YAC1BC,KAAK,EAAE,OAAO;YACdC,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBC,MAAM,EAAE;UACV,CAAE;UAAAjB,QAAA,EACH;QAED;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACRtE,IAAI,iBACHH,OAAA;UACE2E,OAAO,EAAEA,CAAA,KAAM1D,QAAQ,CAAC,UAAUd,IAAI,CAACa,EAAE,EAAE,CAAE;UAC7C2C,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBgB,eAAe,EAAE,SAAS;YAC1BC,KAAK,EAAE,OAAO;YACdC,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBC,MAAM,EAAE;UACV,CAAE;UAAAjB,QAAA,EACH;QAED;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT,eACDzE,OAAA;UACE2E,OAAO,EAAErB,YAAa;UACtBK,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBgB,eAAe,EAAE,SAAS;YAC1BC,KAAK,EAAE,OAAO;YACdC,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBC,MAAM,EAAE;UACV,CAAE;UAAAjB,QAAA,EACH;QAED;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL7D,KAAK,iBACJZ,OAAA;MAAK2D,KAAK,EAAE;QACVkB,KAAK,EAAE,KAAK;QACZD,eAAe,EAAE,SAAS;QAC1BhB,OAAO,EAAE,MAAM;QACfmB,YAAY,EAAE,KAAK;QACnBZ,YAAY,EAAE;MAChB,CAAE;MAAAJ,QAAA,EACCnD;IAAK;MAAA0D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAtD,SAAS,iBACRnB,OAAA;MAAK2D,KAAK,EAAE;QAAEsB,SAAS,EAAE,QAAQ;QAAErB,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,EAAC;IAEtD;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,EAGA,CAACtD,SAAS,IAAIhB,IAAI,iBACjBH,OAAA;MAAK2D,KAAK,EAAE;QACViB,eAAe,EAAE,OAAO;QACxBE,MAAM,EAAE,gBAAgB;QACxBC,YAAY,EAAE,KAAK;QACnBnB,OAAO,EAAE,MAAM;QACfsB,SAAS,EAAE;MACb,CAAE;MAAAnB,QAAA,gBACA/D,OAAA;QAAK2D,KAAK,EAAE;UAAEQ,YAAY,EAAE;QAAO,CAAE;QAAAJ,QAAA,gBACnC/D,OAAA;UAAI2D,KAAK,EAAE;YAAEG,MAAM,EAAE,YAAY;YAAEe,KAAK,EAAE;UAAO,CAAE;UAAAd,QAAA,GAAC,WACzC,EAAC5D,IAAI,CAACI,KAAK;QAAA;UAAA+D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC,eACLzE,OAAA;UAAG2D,KAAK,EAAE;YAAEkB,KAAK,EAAE,MAAM;YAAEf,MAAM,EAAE;UAAI,CAAE;UAAAC,QAAA,GAAC,WAC/B,EAAC5D,IAAI,CAACa,EAAE,EAAC,mBAAY,EAACuC,UAAU,CAACpD,IAAI,CAACgF,UAAU,CAAC,EAAC,wBAC7C,EAAC5B,UAAU,CAACpD,IAAI,CAACiF,UAAU,CAAC;QAAA;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CAAC,EACHtE,IAAI,CAACkF,gBAAgB,KAAKC,SAAS,iBAClCtF,OAAA;UAAG2D,KAAK,EAAE;YAAEkB,KAAK,EAAE,MAAM;YAAEf,MAAM,EAAE;UAAY,CAAE;UAAAC,QAAA,GAAC,wBAC1B,EAAC5D,IAAI,CAACkF,gBAAgB,EAAC,KAAG,EAAClF,IAAI,CAACQ,YAAY,EAAC,SACrE;QAAA;UAAA2D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CACJ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENzE,OAAA;QAAMuF,QAAQ,EAAE/C,YAAa;QAAAuB,QAAA,gBAC3B/D,OAAA;UAAK2D,KAAK,EAAE;YAAEK,OAAO,EAAE,MAAM;YAAEwB,mBAAmB,EAAE,SAAS;YAAEd,GAAG,EAAE,MAAM;YAAEP,YAAY,EAAE;UAAO,CAAE;UAAAJ,QAAA,gBACjG/D,OAAA;YAAA+D,QAAA,gBACE/D,OAAA;cAAO2D,KAAK,EAAE;gBAAEK,OAAO,EAAE,OAAO;gBAAEG,YAAY,EAAE,KAAK;gBAAEsB,UAAU,EAAE;cAAO,CAAE;cAAA1B,QAAA,GAAC,SACpE,eAAA/D,OAAA;gBAAM2D,KAAK,EAAE;kBAAEkB,KAAK,EAAE;gBAAM,CAAE;gBAAAd,QAAA,EAAC;cAAC;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC,eACRzE,OAAA;cACE0F,IAAI,EAAC,MAAM;cACXtD,IAAI,EAAC,OAAO;cACZC,KAAK,EAAEhC,QAAQ,CAACE,KAAM;cACtBoF,QAAQ,EAAEzD,iBAAkB;cAC5B0D,QAAQ,EAAE9E,YAAa;cACvB+E,QAAQ;cACRlC,KAAK,EAAE;gBACLmC,KAAK,EAAE,MAAM;gBACblC,OAAO,EAAE,MAAM;gBACfkB,MAAM,EAAE,gBAAgB;gBACxBC,YAAY,EAAE,KAAK;gBACnBgB,QAAQ,EAAE;cACZ;YAAE;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENzE,OAAA;YAAA+D,QAAA,gBACE/D,OAAA;cAAO2D,KAAK,EAAE;gBAAEK,OAAO,EAAE,OAAO;gBAAEG,YAAY,EAAE,KAAK;gBAAEsB,UAAU,EAAE;cAAO,CAAE;cAAA1B,QAAA,GAAC,UACnE,eAAA/D,OAAA;gBAAM2D,KAAK,EAAE;kBAAEkB,KAAK,EAAE;gBAAM,CAAE;gBAAAd,QAAA,EAAC;cAAC;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C,CAAC,eACRzE,OAAA;cACE0F,IAAI,EAAC,MAAM;cACXtD,IAAI,EAAC,QAAQ;cACbC,KAAK,EAAEhC,QAAQ,CAACG,MAAO;cACvBmF,QAAQ,EAAEzD,iBAAkB;cAC5B0D,QAAQ,EAAE9E,YAAa;cACvB+E,QAAQ;cACRlC,KAAK,EAAE;gBACLmC,KAAK,EAAE,MAAM;gBACblC,OAAO,EAAE,MAAM;gBACfkB,MAAM,EAAE,gBAAgB;gBACxBC,YAAY,EAAE,KAAK;gBACnBgB,QAAQ,EAAE;cACZ;YAAE;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENzE,OAAA;YAAA+D,QAAA,gBACE/D,OAAA;cAAO2D,KAAK,EAAE;gBAAEK,OAAO,EAAE,OAAO;gBAAEG,YAAY,EAAE,KAAK;gBAAEsB,UAAU,EAAE;cAAO,CAAE;cAAA1B,QAAA,GAAC,SACpE,eAAA/D,OAAA;gBAAM2D,KAAK,EAAE;kBAAEkB,KAAK,EAAE;gBAAM,CAAE;gBAAAd,QAAA,EAAC;cAAC;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC,eACRzE,OAAA;cACE0F,IAAI,EAAC,MAAM;cACXtD,IAAI,EAAC,OAAO;cACZC,KAAK,EAAEhC,QAAQ,CAACI,KAAM;cACtBkF,QAAQ,EAAEzD,iBAAkB;cAC5B0D,QAAQ,EAAE9E,YAAa;cACvB+E,QAAQ;cACRlC,KAAK,EAAE;gBACLmC,KAAK,EAAE,MAAM;gBACblC,OAAO,EAAE,MAAM;gBACfkB,MAAM,EAAE,gBAAgB;gBACxBC,YAAY,EAAE,KAAK;gBACnBgB,QAAQ,EAAE;cACZ;YAAE;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENzE,OAAA;YAAA+D,QAAA,gBACE/D,OAAA;cAAO2D,KAAK,EAAE;gBAAEK,OAAO,EAAE,OAAO;gBAAEG,YAAY,EAAE,KAAK;gBAAEsB,UAAU,EAAE;cAAO,CAAE;cAAA1B,QAAA,GAAC,QACrE,eAAA/D,OAAA;gBAAM2D,KAAK,EAAE;kBAAEkB,KAAK,EAAE;gBAAM,CAAE;gBAAAd,QAAA,EAAC;cAAC;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC,CAAC,eACRzE,OAAA;cACE0F,IAAI,EAAC,MAAM;cACXtD,IAAI,EAAC,MAAM;cACXC,KAAK,EAAEhC,QAAQ,CAACK,IAAK;cACrBiF,QAAQ,EAAEzD,iBAAkB;cAC5B0D,QAAQ,EAAE9E,YAAa;cACvB+E,QAAQ;cACRlC,KAAK,EAAE;gBACLmC,KAAK,EAAE,MAAM;gBACblC,OAAO,EAAE,MAAM;gBACfkB,MAAM,EAAE,gBAAgB;gBACxBC,YAAY,EAAE,KAAK;gBACnBgB,QAAQ,EAAE;cACZ;YAAE;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENzE,OAAA;YAAA+D,QAAA,gBACE/D,OAAA;cAAO2D,KAAK,EAAE;gBAAEK,OAAO,EAAE,OAAO;gBAAEG,YAAY,EAAE,KAAK;gBAAEsB,UAAU,EAAE;cAAO,CAAE;cAAA1B,QAAA,GAAC,gBAC7D,eAAA/D,OAAA;gBAAM2D,KAAK,EAAE;kBAAEkB,KAAK,EAAE;gBAAM,CAAE;gBAAAd,QAAA,EAAC;cAAC;gBAAAO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,eACRzE,OAAA;cACE0F,IAAI,EAAC,QAAQ;cACbtD,IAAI,EAAC,cAAc;cACnBC,KAAK,EAAEhC,QAAQ,CAACM,YAAa;cAC7BgF,QAAQ,EAAEzD,iBAAkB;cAC5B0D,QAAQ,EAAE9E,YAAa;cACvBkF,GAAG,EAAC,GAAG;cACPC,GAAG,EAAC,MAAM;cACVJ,QAAQ;cACRlC,KAAK,EAAE;gBACLmC,KAAK,EAAE,MAAM;gBACblC,OAAO,EAAE,MAAM;gBACfkB,MAAM,EAAE,gBAAgB;gBACxBC,YAAY,EAAE,KAAK;gBACnBgB,QAAQ,EAAE;cACZ;YAAE;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACFzE,OAAA;cAAO2D,KAAK,EAAE;gBAAEkB,KAAK,EAAE,MAAM;gBAAEkB,QAAQ,EAAE;cAAO,CAAE;cAAAhC,QAAA,GAAC,WACxC,EAAC5D,IAAI,CAACQ,YAAY,EAAC,SAC5B,EAACR,IAAI,CAACkF,gBAAgB,KAAKC,SAAS,IAClC,KAAKnF,IAAI,CAACkF,gBAAgB,aAAa;YAAA;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEpC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAGLpE,QAAQ,CAACM,YAAY,KAAKR,IAAI,CAACQ,YAAY,iBAC1CX,OAAA;UAAK2D,KAAK,EAAE;YACViB,eAAe,EAAE,SAAS;YAC1BE,MAAM,EAAE,mBAAmB;YAC3BC,YAAY,EAAE,KAAK;YACnBnB,OAAO,EAAE,MAAM;YACfO,YAAY,EAAE,MAAM;YACpBU,KAAK,EAAE;UACT,CAAE;UAAAd,QAAA,gBACA/D,OAAA;YAAA+D,QAAA,EAAQ;UAAW;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,gJAE9B;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACN,eAEDzE,OAAA;UAAK2D,KAAK,EAAE;YAAEK,OAAO,EAAE,MAAM;YAAEU,GAAG,EAAE,MAAM;YAAET,cAAc,EAAE;UAAW,CAAE;UAAAF,QAAA,gBACvE/D,OAAA;YACE0F,IAAI,EAAC,QAAQ;YACbf,OAAO,EAAEA,CAAA,KAAM1D,QAAQ,CAAC,UAAUd,IAAI,CAACa,EAAE,EAAE,CAAE;YAC7C4E,QAAQ,EAAE9E,YAAa;YACvB6C,KAAK,EAAE;cACLC,OAAO,EAAE,WAAW;cACpBgB,eAAe,EAAE,SAAS;cAC1BC,KAAK,EAAE,OAAO;cACdC,MAAM,EAAE,MAAM;cACdC,YAAY,EAAE,KAAK;cACnBC,MAAM,EAAElE,YAAY,GAAG,aAAa,GAAG,SAAS;cAChDiF,QAAQ,EAAE;YACZ,CAAE;YAAAhC,QAAA,EACH;UAED;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAETzE,OAAA;YACE0F,IAAI,EAAC,QAAQ;YACbE,QAAQ,EAAE9E,YAAa;YACvB6C,KAAK,EAAE;cACLC,OAAO,EAAE,WAAW;cACpBgB,eAAe,EAAE9D,YAAY,GAAG,SAAS,GAAG,SAAS;cACrD+D,KAAK,EAAE,OAAO;cACdC,MAAM,EAAE,MAAM;cACdC,YAAY,EAAE,KAAK;cACnBC,MAAM,EAAElE,YAAY,GAAG,aAAa,GAAG,SAAS;cAChDiF,QAAQ,EAAE,MAAM;cAChBN,UAAU,EAAE;YACd,CAAE;YAAA1B,QAAA,EAEDjD,YAAY,GAAG,aAAa,GAAG;UAAa;YAAAwD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,EAGA,CAACtD,SAAS,IAAI,CAAChB,IAAI,IAAI,CAACS,KAAK,iBAC5BZ,OAAA;MAAK2D,KAAK,EAAE;QAAEsB,SAAS,EAAE,QAAQ;QAAErB,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,gBACnD/D,OAAA;QAAA+D,QAAA,EAAI;MAAc;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvBzE,OAAA;QAAA+D,QAAA,EAAG;MAAiE;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACxEzE,OAAA;QACE2E,OAAO,EAAEA,CAAA,KAAM1D,QAAQ,CAAC,QAAQ,CAAE;QAClC0C,KAAK,EAAE;UACLC,OAAO,EAAE,WAAW;UACpBgB,eAAe,EAAE,SAAS;UAC1BC,KAAK,EAAE,OAAO;UACdC,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE,KAAK;UACnBC,MAAM,EAAE,SAAS;UACjBkB,SAAS,EAAE;QACb,CAAE;QAAAnC,QAAA,EACH;MAED;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACvE,EAAA,CA/aID,QAAkB;EAAA,QAYPP,SAAS,EACPC,WAAW,EACmCC,QAAQ;AAAA;AAAAuG,EAAA,GAdnElG,QAAkB;AAibxB,eAAeA,QAAQ;AAAC,IAAAkG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}