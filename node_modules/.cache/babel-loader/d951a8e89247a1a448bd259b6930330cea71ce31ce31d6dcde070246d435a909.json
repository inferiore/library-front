{"ast":null,"code":"// FILE: store.ts\nimport { create } from 'zustand';\nconst getUserFromLocalStorage = () => {\n  const userData = localStorage.getItem('user');\n  return userData ? JSON.parse(userData) : null;\n};\nconst useStore = create(set => ({\n  books: [],\n  borrowings: [],\n  user: getUserFromLocalStorage(),\n  addBook: book => set(state => ({\n    books: [...state.books, book]\n  })),\n  removeBook: bookId => set(state => ({\n    books: state.books.filter(book => book.id !== bookId)\n  })),\n  addBorrowing: borrowing => set(state => ({\n    borrowings: [...state.borrowings, borrowing]\n  })),\n  returnBorrowing: borrowingId => set(state => ({\n    borrowings: state.borrowings.map(borrowing => borrowing.id === borrowingId ? {\n      ...borrowing,\n      returnDate: new Date().toISOString()\n    } : borrowing)\n  })),\n  setUser: user => set(() => ({\n    user\n  })),\n  clearUser: () => set(() => ({\n    user: null\n  }))\n}));\nexport default useStore;","map":{"version":3,"names":["create","getUserFromLocalStorage","userData","localStorage","getItem","JSON","parse","useStore","set","books","borrowings","user","addBook","book","state","removeBook","bookId","filter","id","addBorrowing","borrowing","returnBorrowing","borrowingId","map","returnDate","Date","toISOString","setUser","clearUser"],"sources":["/Users/ederbarrios/Projects/Tests/Claude/library-react/mi-app/src/store/store.ts"],"sourcesContent":["// FILE: store.ts\nimport { create } from 'zustand';\n\ninterface Book {\n  id: string;\n  title: string;\n  author: string;\n}\n\ninterface Borrowing {\n  id: string;\n  bookId: string;\n  userId: string;\n  borrowedDate: string;\n  returnDate?: string;\n}\n\ninterface User {\n  id: string;\n  name: string;\n  email: string;\n  token: string;\n}\n\ninterface AppState {\n  books: Book[];\n  borrowings: Borrowing[];\n  user: User | null;\n  addBook: (book: Book) => void;\n  removeBook: (bookId: string) => void;\n  addBorrowing: (borrowing: Borrowing) => void;\n  returnBorrowing: (borrowingId: string) => void;\n  setUser: (user: User) => void;\n  clearUser: () => void;\n}\n\nconst getUserFromLocalStorage = (): User | null => {\n  const userData = localStorage.getItem('user');\n  return userData ? JSON.parse(userData) : null;\n};\n\nconst useStore = create<AppState>((set) => ({\n  books: [],\n  borrowings: [],\n  user: getUserFromLocalStorage(),\n  addBook: (book) =>\n    set((state) => ({\n      books: [...state.books, book],\n    })),\n  removeBook: (bookId) =>\n    set((state) => ({\n      books: state.books.filter((book) => book.id !== bookId),\n    })),\n  addBorrowing: (borrowing) =>\n    set((state) => ({\n      borrowings: [...state.borrowings, borrowing],\n    })),\n  returnBorrowing: (borrowingId) =>\n    set((state) => ({\n      borrowings: state.borrowings.map((borrowing) =>\n        borrowing.id === borrowingId ? { ...borrowing, returnDate: new Date().toISOString() } : borrowing\n      ),\n    })),\n  setUser: (user) =>\n    set(() => ({\n      user,\n    })),\n  clearUser: () =>\n    set(() => ({\n      user: null,\n    })),\n}));\n\nexport default useStore;"],"mappings":"AAAA;AACA,SAASA,MAAM,QAAQ,SAAS;AAmChC,MAAMC,uBAAuB,GAAGA,CAAA,KAAmB;EACjD,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAC7C,OAAOF,QAAQ,GAAGG,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAAC,GAAG,IAAI;AAC/C,CAAC;AAED,MAAMK,QAAQ,GAAGP,MAAM,CAAYQ,GAAG,KAAM;EAC1CC,KAAK,EAAE,EAAE;EACTC,UAAU,EAAE,EAAE;EACdC,IAAI,EAAEV,uBAAuB,CAAC,CAAC;EAC/BW,OAAO,EAAGC,IAAI,IACZL,GAAG,CAAEM,KAAK,KAAM;IACdL,KAAK,EAAE,CAAC,GAAGK,KAAK,CAACL,KAAK,EAAEI,IAAI;EAC9B,CAAC,CAAC,CAAC;EACLE,UAAU,EAAGC,MAAM,IACjBR,GAAG,CAAEM,KAAK,KAAM;IACdL,KAAK,EAAEK,KAAK,CAACL,KAAK,CAACQ,MAAM,CAAEJ,IAAI,IAAKA,IAAI,CAACK,EAAE,KAAKF,MAAM;EACxD,CAAC,CAAC,CAAC;EACLG,YAAY,EAAGC,SAAS,IACtBZ,GAAG,CAAEM,KAAK,KAAM;IACdJ,UAAU,EAAE,CAAC,GAAGI,KAAK,CAACJ,UAAU,EAAEU,SAAS;EAC7C,CAAC,CAAC,CAAC;EACLC,eAAe,EAAGC,WAAW,IAC3Bd,GAAG,CAAEM,KAAK,KAAM;IACdJ,UAAU,EAAEI,KAAK,CAACJ,UAAU,CAACa,GAAG,CAAEH,SAAS,IACzCA,SAAS,CAACF,EAAE,KAAKI,WAAW,GAAG;MAAE,GAAGF,SAAS;MAAEI,UAAU,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IAAE,CAAC,GAAGN,SAC1F;EACF,CAAC,CAAC,CAAC;EACLO,OAAO,EAAGhB,IAAI,IACZH,GAAG,CAAC,OAAO;IACTG;EACF,CAAC,CAAC,CAAC;EACLiB,SAAS,EAAEA,CAAA,KACTpB,GAAG,CAAC,OAAO;IACTG,IAAI,EAAE;EACR,CAAC,CAAC;AACN,CAAC,CAAC,CAAC;AAEH,eAAeJ,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}