{"ast":null,"code":"var _jsxFileName = \"/Users/ederbarrios/Projects/Tests/Claude/library-react/mi-app/src/components/BookDetails.tsx\",\n  _s = $RefreshSig$();\n// src/components/BookDetails.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport useStore from '../store/store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookDetails = () => {\n  _s();\n  const [book, setBook] = useState(null);\n  const [error, setError] = useState('');\n  const [borrowings, setBorrowings] = useState([]);\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    isLoading,\n    setLoading,\n    addBorrowing,\n    clearUser\n  } = useStore();\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (id) {\n      fetchBookDetails(parseInt(id));\n    }\n  }, [id, user, navigate]);\n  const fetchBookDetails = async bookId => {\n    if (!user) return;\n    setLoading(true);\n    setError('');\n    try {\n      const response = await fetch(`http://localhost:8000/api/books/${bookId}`, {\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Accept': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        if (response.status === 401) {\n          clearUser();\n          navigate('/login');\n          return;\n        }\n        if (response.status === 404) {\n          throw new Error('Book not found');\n        }\n        throw new Error('Failed to fetch book details');\n      }\n      const data = await response.json();\n      setBook(data.data || data);\n\n      // Fetch borrowings for this book if user is librarian\n      if (user.role === 'librarian') {\n        fetchBookBorrowings(bookId);\n      }\n    } catch (error) {\n      console.error('Error fetching book details:', error);\n      setError(error instanceof Error ? error.message : 'Failed to load book details');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchBookBorrowings = async bookId => {\n    if (!user || user.role !== 'librarian') return;\n    try {\n      const response = await fetch('http://localhost:8000/api/borrowings', {\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Accept': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const allBorrowings = data.data || data;\n        const bookBorrowings = allBorrowings.filter(b => b.book_id === bookId);\n        setBorrowings(bookBorrowings);\n      }\n    } catch (error) {\n      console.error('Error fetching borrowings:', error);\n    }\n  };\n  const handleBorrowBook = async () => {\n    if (!user || user.role !== 'member' || !book) return;\n    setLoading(true);\n    setError('');\n    try {\n      const response = await fetch('http://localhost:8000/api/borrowings', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          book_id: book.id\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to borrow book');\n      }\n      const data = await response.json();\n      addBorrowing(data.data || data);\n\n      // Refresh book details to update available copies\n      fetchBookDetails(book.id);\n      alert('Book borrowed successfully!');\n    } catch (error) {\n      console.error('Error borrowing book:', error);\n      setError(error instanceof Error ? error.message : 'Failed to borrow book');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLogout = () => {\n    clearUser();\n    navigate('/login');\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n  const isOverdue = (dueDateString, returnedDate) => {\n    if (returnedDate) return false;\n    return new Date(dueDateString) < new Date();\n  };\n  if (!user) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '1200px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '30px',\n        paddingBottom: '20px',\n        borderBottom: '1px solid #eee'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Book Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Welcome, \", user.name, \" (\", user.role, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/books'),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Back to Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/borrowings'),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#17a2b8',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"My Borrowings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#dc3545',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        backgroundColor: '#ffebee',\n        padding: '10px',\n        borderRadius: '4px',\n        marginBottom: '20px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px'\n      },\n      children: \"Loading book details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this), !isLoading && book && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          border: '1px solid #ddd',\n          borderRadius: '8px',\n          padding: '30px',\n          marginBottom: '30px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            marginBottom: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                margin: '0 0 20px 0',\n                color: '#333',\n                fontSize: '28px'\n              },\n              children: book.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: '1fr 1fr',\n                gap: '20px',\n                marginBottom: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '10px 0',\n                    fontSize: '16px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Author:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 23\n                  }, this), \" \", book.author]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '10px 0',\n                    fontSize: '16px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Genre:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this), \" \", book.genre]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '10px 0',\n                    fontSize: '16px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"ISBN:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 23\n                  }, this), \" \", book.isbn]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '10px 0',\n                    fontSize: '16px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Total Copies:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 23\n                  }, this), \" \", book.total_copies]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '10px 0',\n                    fontSize: '16px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Available Copies:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: (book.available_copies || 0) > 0 ? '#28a745' : '#dc3545',\n                      fontWeight: 'bold',\n                      marginLeft: '8px'\n                    },\n                    children: book.available_copies || 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '10px 0',\n                    fontSize: '16px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Added:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 23\n                  }, this), \" \", formatDate(book.created_at)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '15px',\n                backgroundColor: (book.available_copies || 0) > 0 ? '#d4edda' : '#f8d7da',\n                borderRadius: '4px',\n                border: `1px solid ${(book.available_copies || 0) > 0 ? '#c3e6cb' : '#f5c6cb'}`,\n                marginBottom: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: '0',\n                  color: (book.available_copies || 0) > 0 ? '#155724' : '#721c24',\n                  fontWeight: 'bold'\n                },\n                children: (book.available_copies || 0) > 0 ? `✅ This book is available for borrowing (${book.available_copies} copies available)` : '❌ This book is currently not available for borrowing'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            flexWrap: 'wrap'\n          },\n          children: [user.role === 'member' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleBorrowBook,\n            disabled: isLoading || (book.available_copies || 0) <= 0,\n            style: {\n              padding: '12px 24px',\n              backgroundColor: (book.available_copies || 0) > 0 ? '#28a745' : '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: isLoading || (book.available_copies || 0) <= 0 ? 'not-allowed' : 'pointer',\n              fontSize: '16px',\n              fontWeight: 'bold'\n            },\n            children: (book.available_copies || 0) > 0 ? 'Borrow This Book' : 'Not Available'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 17\n          }, this), user.role === 'librarian' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate(`/books/${book.id}/edit`),\n            style: {\n              padding: '12px 24px',\n              backgroundColor: '#ffc107',\n              color: 'black',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '16px',\n              fontWeight: 'bold'\n            },\n            children: \"Edit Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), user.role === 'librarian' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          border: '1px solid #ddd',\n          borderRadius: '8px',\n          padding: '30px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: '0',\n            marginBottom: '20px'\n          },\n          children: [\"Borrowing History (\", borrowings.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 15\n        }, this), borrowings.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            fontStyle: 'italic'\n          },\n          children: \"No borrowing records found for this book.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: '15px'\n          },\n          children: borrowings.map(borrowing => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: '1px solid #ddd',\n              borderRadius: '4px',\n              padding: '15px',\n              backgroundColor: '#f8f9fa',\n              borderLeft: `4px solid ${borrowing.returned_date ? '#28a745' : isOverdue(borrowing.due_date) ? '#dc3545' : '#ffc107'}`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '0 0 5px 0',\n                    fontWeight: 'bold'\n                  },\n                  children: [borrowing.user.name, \" (\", borrowing.user.email, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    margin: '0',\n                    fontSize: '14px',\n                    color: '#666'\n                  },\n                  children: [\"Borrowed: \", formatDate(borrowing.borrowed_date), \" | Due: \", formatDate(borrowing.due_date), borrowing.returned_date && ` | Returned: ${formatDate(borrowing.returned_date)}`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  padding: '4px 8px',\n                  borderRadius: '12px',\n                  fontSize: '12px',\n                  fontWeight: 'bold',\n                  backgroundColor: borrowing.returned_date ? '#d4edda' : isOverdue(borrowing.due_date) ? '#f8d7da' : '#fff3cd',\n                  color: borrowing.returned_date ? '#155724' : isOverdue(borrowing.due_date) ? '#721c24' : '#856404'\n                },\n                children: borrowing.returned_date ? 'RETURNED' : isOverdue(borrowing.due_date) ? 'OVERDUE' : 'ACTIVE'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 23\n            }, this)\n          }, borrowing.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }, this), !isLoading && !book && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Book Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"The book you're looking for doesn't exist or has been removed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/books'),\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer',\n          marginTop: '10px'\n        },\n        children: \"Back to Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n};\n_s(BookDetails, \"WsyKaQUOtNiBU6cxBsBAWBrAIAM=\", false, function () {\n  return [useParams, useNavigate, useStore];\n});\n_c = BookDetails;\nexport default BookDetails;\nvar _c;\n$RefreshReg$(_c, \"BookDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useStore","jsxDEV","_jsxDEV","BookDetails","_s","book","setBook","error","setError","borrowings","setBorrowings","id","navigate","user","isLoading","setLoading","addBorrowing","clearUser","fetchBookDetails","parseInt","bookId","response","fetch","headers","token","ok","status","Error","data","json","role","fetchBookBorrowings","console","message","allBorrowings","bookBorrowings","filter","b","book_id","handleBorrowBook","method","body","JSON","stringify","errorData","alert","handleLogout","formatDate","dateString","Date","toLocaleDateString","isOverdue","dueDateString","returnedDate","style","padding","maxWidth","margin","children","display","justifyContent","alignItems","marginBottom","paddingBottom","borderBottom","fileName","_jsxFileName","lineNumber","columnNumber","name","gap","onClick","backgroundColor","color","border","borderRadius","cursor","textAlign","boxShadow","flex","fontSize","title","gridTemplateColumns","author","genre","isbn","total_copies","available_copies","fontWeight","marginLeft","created_at","flexWrap","disabled","marginTop","length","fontStyle","map","borrowing","borderLeft","returned_date","due_date","email","borrowed_date","_c","$RefreshReg$"],"sources":["/Users/ederbarrios/Projects/Tests/Claude/library-react/mi-app/src/components/BookDetails.tsx"],"sourcesContent":["\n// src/components/BookDetails.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport useStore from '../store/store';\n\ninterface BookDetailsData {\n  id: number;\n  title: string;\n  author: string;\n  genre: string;\n  isbn: string;\n  total_copies: number;\n  available_copies: number;\n  created_at: string;\n  updated_at: string;\n}\n\nconst BookDetails: React.FC = () => {\n  const [book, setBook] = useState<BookDetailsData | null>(null);\n  const [error, setError] = useState('');\n  const [borrowings, setBorrowings] = useState<any[]>([]);\n  \n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { user, isLoading, setLoading, addBorrowing, clearUser } = useStore();\n\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (id) {\n      fetchBookDetails(parseInt(id));\n    }\n  }, [id, user, navigate]);\n\n  const fetchBookDetails = async (bookId: number) => {\n    if (!user) return;\n    \n    setLoading(true);\n    setError('');\n    \n    try {\n      const response = await fetch(`http://localhost:8000/api/books/${bookId}`, {\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Accept': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          clearUser();\n          navigate('/login');\n          return;\n        }\n        if (response.status === 404) {\n          throw new Error('Book not found');\n        }\n        throw new Error('Failed to fetch book details');\n      }\n\n      const data = await response.json();\n      setBook(data.data || data);\n      \n      // Fetch borrowings for this book if user is librarian\n      if (user.role === 'librarian') {\n        fetchBookBorrowings(bookId);\n      }\n    } catch (error) {\n      console.error('Error fetching book details:', error);\n      setError(error instanceof Error ? error.message : 'Failed to load book details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchBookBorrowings = async (bookId: number) => {\n    if (!user || user.role !== 'librarian') return;\n    \n    try {\n      const response = await fetch('http://localhost:8000/api/borrowings', {\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Accept': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        const allBorrowings = data.data || data;\n        const bookBorrowings = allBorrowings.filter((b: any) => b.book_id === bookId);\n        setBorrowings(bookBorrowings);\n      }\n    } catch (error) {\n      console.error('Error fetching borrowings:', error);\n    }\n  };\n\n  const handleBorrowBook = async () => {\n    if (!user || user.role !== 'member' || !book) return;\n\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await fetch('http://localhost:8000/api/borrowings', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${user.token}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n        },\n        body: JSON.stringify({ book_id: book.id }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to borrow book');\n      }\n\n      const data = await response.json();\n      addBorrowing(data.data || data);\n      \n      // Refresh book details to update available copies\n      fetchBookDetails(book.id);\n      \n      alert('Book borrowed successfully!');\n    } catch (error) {\n      console.error('Error borrowing book:', error);\n      setError(error instanceof Error ? error.message : 'Failed to borrow book');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    clearUser();\n    navigate('/login');\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  const isOverdue = (dueDateString: string, returnedDate?: string) => {\n    if (returnedDate) return false;\n    return new Date(dueDateString) < new Date();\n  };\n\n  if (!user) return null;\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '1200px', margin: '0 auto' }}>\n      {/* Header */}\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center', \n        marginBottom: '30px',\n        paddingBottom: '20px',\n        borderBottom: '1px solid #eee'\n      }}>\n        <div>\n          <h1>Book Details</h1>\n          <p>Welcome, {user.name} ({user.role})</p>\n        </div>\n        <div style={{ display: 'flex', gap: '10px' }}>\n          <button \n            onClick={() => navigate('/books')}\n            style={{ \n              padding: '8px 16px', \n              backgroundColor: '#007bff', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Back to Books\n          </button>\n          <button \n            onClick={() => navigate('/borrowings')}\n            style={{ \n              padding: '8px 16px', \n              backgroundColor: '#17a2b8', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            My Borrowings\n          </button>\n          <button \n            onClick={handleLogout}\n            style={{ \n              padding: '8px 16px', \n              backgroundColor: '#dc3545', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      {/* Error Display */}\n      {error && (\n        <div style={{ \n          color: 'red', \n          backgroundColor: '#ffebee', \n          padding: '10px', \n          borderRadius: '4px', \n          marginBottom: '20px' \n        }}>\n          {error}\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoading && (\n        <div style={{ textAlign: 'center', padding: '40px' }}>\n          Loading book details...\n        </div>\n      )}\n\n      {/* Book Details */}\n      {!isLoading && book && (\n        <div>\n          <div style={{ \n            backgroundColor: 'white', \n            border: '1px solid #ddd', \n            borderRadius: '8px', \n            padding: '30px', \n            marginBottom: '30px',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '20px' }}>\n              <div style={{ flex: 1 }}>\n                <h2 style={{ margin: '0 0 20px 0', color: '#333', fontSize: '28px' }}>\n                  {book.title}\n                </h2>\n                \n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginBottom: '20px' }}>\n                  <div>\n                    <p style={{ margin: '10px 0', fontSize: '16px' }}>\n                      <strong>Author:</strong> {book.author}\n                    </p>\n                    <p style={{ margin: '10px 0', fontSize: '16px' }}>\n                      <strong>Genre:</strong> {book.genre}\n                    </p>\n                    <p style={{ margin: '10px 0', fontSize: '16px' }}>\n                      <strong>ISBN:</strong> {book.isbn}\n                    </p>\n                  </div>\n                  <div>\n                    <p style={{ margin: '10px 0', fontSize: '16px' }}>\n                      <strong>Total Copies:</strong> {book.total_copies}\n                    </p>\n                    <p style={{ margin: '10px 0', fontSize: '16px' }}>\n                      <strong>Available Copies:</strong> \n                      <span style={{ \n                        color: (book.available_copies || 0) > 0 ? '#28a745' : '#dc3545',\n                        fontWeight: 'bold',\n                        marginLeft: '8px'\n                      }}>\n                        {book.available_copies || 0}\n                      </span>\n                    </p>\n                    <p style={{ margin: '10px 0', fontSize: '16px' }}>\n                      <strong>Added:</strong> {formatDate(book.created_at)}\n                    </p>\n                  </div>\n                </div>\n\n                <div style={{ \n                  padding: '15px', \n                  backgroundColor: (book.available_copies || 0) > 0 ? '#d4edda' : '#f8d7da',\n                  borderRadius: '4px',\n                  border: `1px solid ${(book.available_copies || 0) > 0 ? '#c3e6cb' : '#f5c6cb'}`,\n                  marginBottom: '20px'\n                }}>\n                  <p style={{ \n                    margin: '0', \n                    color: (book.available_copies || 0) > 0 ? '#155724' : '#721c24',\n                    fontWeight: 'bold'\n                  }}>\n                    {(book.available_copies || 0) > 0 \n                      ? `✅ This book is available for borrowing (${book.available_copies} copies available)`\n                      : '❌ This book is currently not available for borrowing'\n                    }\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\n              {user.role === 'member' && (\n                <button\n                  onClick={handleBorrowBook}\n                  disabled={isLoading || (book.available_copies || 0) <= 0}\n                  style={{ \n                    padding: '12px 24px', \n                    backgroundColor: (book.available_copies || 0) > 0 ? '#28a745' : '#6c757d', \n                    color: 'white', \n                    border: 'none', \n                    borderRadius: '4px',\n                    cursor: isLoading || (book.available_copies || 0) <= 0 ? 'not-allowed' : 'pointer',\n                    fontSize: '16px',\n                    fontWeight: 'bold'\n                  }}\n                >\n                  {(book.available_copies || 0) > 0 ? 'Borrow This Book' : 'Not Available'}\n                </button>\n              )}\n              \n              {user.role === 'librarian' && (\n                <button\n                  onClick={() => navigate(`/books/${book.id}/edit`)}\n                  style={{ \n                    padding: '12px 24px', \n                    backgroundColor: '#ffc107', \n                    color: 'black', \n                    border: 'none', \n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '16px',\n                    fontWeight: 'bold'\n                  }}\n                >\n                  Edit Book\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Borrowings Section for Librarians */}\n          {user.role === 'librarian' && (\n            <div style={{ \n              backgroundColor: 'white', \n              border: '1px solid #ddd', \n              borderRadius: '8px', \n              padding: '30px',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n              <h3 style={{ marginTop: '0', marginBottom: '20px' }}>\n                Borrowing History ({borrowings.length})\n              </h3>\n              \n              {borrowings.length === 0 ? (\n                <p style={{ color: '#666', fontStyle: 'italic' }}>\n                  No borrowing records found for this book.\n                </p>\n              ) : (\n                <div style={{ display: 'grid', gap: '15px' }}>\n                  {borrowings.map((borrowing) => (\n                    <div \n                      key={borrowing.id}\n                      style={{ \n                        border: '1px solid #ddd', \n                        borderRadius: '4px', \n                        padding: '15px',\n                        backgroundColor: '#f8f9fa',\n                        borderLeft: `4px solid ${\n                          borrowing.returned_date \n                            ? '#28a745' \n                            : isOverdue(borrowing.due_date) \n                              ? '#dc3545' \n                              : '#ffc107'\n                        }`\n                      }}\n                    >\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <div>\n                          <p style={{ margin: '0 0 5px 0', fontWeight: 'bold' }}>\n                            {borrowing.user.name} ({borrowing.user.email})\n                          </p>\n                          <p style={{ margin: '0', fontSize: '14px', color: '#666' }}>\n                            Borrowed: {formatDate(borrowing.borrowed_date)} | \n                            Due: {formatDate(borrowing.due_date)}\n                            {borrowing.returned_date && ` | Returned: ${formatDate(borrowing.returned_date)}`}\n                          </p>\n                        </div>\n                        <span style={{ \n                          padding: '4px 8px', \n                          borderRadius: '12px', \n                          fontSize: '12px', \n                          fontWeight: 'bold',\n                          backgroundColor: borrowing.returned_date \n                            ? '#d4edda' \n                            : isOverdue(borrowing.due_date) \n                              ? '#f8d7da' \n                              : '#fff3cd',\n                          color: borrowing.returned_date \n                            ? '#155724' \n                            : isOverdue(borrowing.due_date) \n                              ? '#721c24' \n                              : '#856404'\n                        }}>\n                          {borrowing.returned_date \n                            ? 'RETURNED' \n                            : isOverdue(borrowing.due_date) \n                              ? 'OVERDUE' \n                              : 'ACTIVE'}\n                        </span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Book Not Found */}\n      {!isLoading && !book && !error && (\n        <div style={{ textAlign: 'center', padding: '40px' }}>\n          <h2>Book Not Found</h2>\n          <p>The book you're looking for doesn't exist or has been removed.</p>\n          <button \n            onClick={() => navigate('/books')}\n            style={{ \n              padding: '10px 20px', \n              backgroundColor: '#007bff', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer',\n              marginTop: '10px'\n            }}\n          >\n            Back to Books\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookDetails;\n"],"mappings":";;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,QAAQ,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AActC,MAAMC,WAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAyB,IAAI,CAAC;EAC9D,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACa,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAQ,EAAE,CAAC;EAEvD,MAAM;IAAEe;EAAG,CAAC,GAAGb,SAAS,CAAiB,CAAC;EAC1C,MAAMc,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEc,IAAI;IAAEC,SAAS;IAAEC,UAAU;IAAEC,YAAY;IAAEC;EAAU,CAAC,GAAGjB,QAAQ,CAAC,CAAC;EAE3EH,SAAS,CAAC,MAAM;IACd,IAAI,CAACgB,IAAI,EAAE;MACTD,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IACA,IAAID,EAAE,EAAE;MACNO,gBAAgB,CAACC,QAAQ,CAACR,EAAE,CAAC,CAAC;IAChC;EACF,CAAC,EAAE,CAACA,EAAE,EAAEE,IAAI,EAAED,QAAQ,CAAC,CAAC;EAExB,MAAMM,gBAAgB,GAAG,MAAOE,MAAc,IAAK;IACjD,IAAI,CAACP,IAAI,EAAE;IAEXE,UAAU,CAAC,IAAI,CAAC;IAChBP,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCF,MAAM,EAAE,EAAE;QACxEG,OAAO,EAAE;UACP,eAAe,EAAE,UAAUV,IAAI,CAACW,KAAK,EAAE;UACvC,QAAQ,EAAE;QACZ;MACF,CAAC,CAAC;MAEF,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;QAChB,IAAIJ,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAE;UAC3BT,SAAS,CAAC,CAAC;UACXL,QAAQ,CAAC,QAAQ,CAAC;UAClB;QACF;QACA,IAAIS,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAE;UAC3B,MAAM,IAAIC,KAAK,CAAC,gBAAgB,CAAC;QACnC;QACA,MAAM,IAAIA,KAAK,CAAC,8BAA8B,CAAC;MACjD;MAEA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAClCvB,OAAO,CAACsB,IAAI,CAACA,IAAI,IAAIA,IAAI,CAAC;;MAE1B;MACA,IAAIf,IAAI,CAACiB,IAAI,KAAK,WAAW,EAAE;QAC7BC,mBAAmB,CAACX,MAAM,CAAC;MAC7B;IACF,CAAC,CAAC,OAAOb,KAAK,EAAE;MACdyB,OAAO,CAACzB,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDC,QAAQ,CAACD,KAAK,YAAYoB,KAAK,GAAGpB,KAAK,CAAC0B,OAAO,GAAG,6BAA6B,CAAC;IAClF,CAAC,SAAS;MACRlB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMgB,mBAAmB,GAAG,MAAOX,MAAc,IAAK;IACpD,IAAI,CAACP,IAAI,IAAIA,IAAI,CAACiB,IAAI,KAAK,WAAW,EAAE;IAExC,IAAI;MACF,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAsC,EAAE;QACnEC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUV,IAAI,CAACW,KAAK,EAAE;UACvC,QAAQ,EAAE;QACZ;MACF,CAAC,CAAC;MAEF,IAAIH,QAAQ,CAACI,EAAE,EAAE;QACf,MAAMG,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;QAClC,MAAMK,aAAa,GAAGN,IAAI,CAACA,IAAI,IAAIA,IAAI;QACvC,MAAMO,cAAc,GAAGD,aAAa,CAACE,MAAM,CAAEC,CAAM,IAAKA,CAAC,CAACC,OAAO,KAAKlB,MAAM,CAAC;QAC7EV,aAAa,CAACyB,cAAc,CAAC;MAC/B;IACF,CAAC,CAAC,OAAO5B,KAAK,EAAE;MACdyB,OAAO,CAACzB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD;EACF,CAAC;EAED,MAAMgC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI,CAAC1B,IAAI,IAAIA,IAAI,CAACiB,IAAI,KAAK,QAAQ,IAAI,CAACzB,IAAI,EAAE;IAE9CU,UAAU,CAAC,IAAI,CAAC;IAChBP,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAsC,EAAE;QACnEkB,MAAM,EAAE,MAAM;QACdjB,OAAO,EAAE;UACP,eAAe,EAAE,UAAUV,IAAI,CAACW,KAAK,EAAE;UACvC,cAAc,EAAE,kBAAkB;UAClC,QAAQ,EAAE;QACZ,CAAC;QACDiB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEL,OAAO,EAAEjC,IAAI,CAACM;QAAG,CAAC;MAC3C,CAAC,CAAC;MAEF,IAAI,CAACU,QAAQ,CAACI,EAAE,EAAE;QAChB,MAAMmB,SAAS,GAAG,MAAMvB,QAAQ,CAACQ,IAAI,CAAC,CAAC;QACvC,MAAM,IAAIF,KAAK,CAACiB,SAAS,CAACX,OAAO,IAAI,uBAAuB,CAAC;MAC/D;MAEA,MAAML,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAClCb,YAAY,CAACY,IAAI,CAACA,IAAI,IAAIA,IAAI,CAAC;;MAE/B;MACAV,gBAAgB,CAACb,IAAI,CAACM,EAAE,CAAC;MAEzBkC,KAAK,CAAC,6BAA6B,CAAC;IACtC,CAAC,CAAC,OAAOtC,KAAK,EAAE;MACdyB,OAAO,CAACzB,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CC,QAAQ,CAACD,KAAK,YAAYoB,KAAK,GAAGpB,KAAK,CAAC0B,OAAO,GAAG,uBAAuB,CAAC;IAC5E,CAAC,SAAS;MACRlB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM+B,YAAY,GAAGA,CAAA,KAAM;IACzB7B,SAAS,CAAC,CAAC;IACXL,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,MAAMmC,UAAU,GAAIC,UAAkB,IAAK;IACzC,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,CAAC;EAClD,CAAC;EAED,MAAMC,SAAS,GAAGA,CAACC,aAAqB,EAAEC,YAAqB,KAAK;IAClE,IAAIA,YAAY,EAAE,OAAO,KAAK;IAC9B,OAAO,IAAIJ,IAAI,CAACG,aAAa,CAAC,GAAG,IAAIH,IAAI,CAAC,CAAC;EAC7C,CAAC;EAED,IAAI,CAACpC,IAAI,EAAE,OAAO,IAAI;EAEtB,oBACEX,OAAA;IAAKoD,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,QAAQ,EAAE,QAAQ;MAAEC,MAAM,EAAE;IAAS,CAAE;IAAAC,QAAA,gBAEpExD,OAAA;MAAKoD,KAAK,EAAE;QACVK,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,eAAe;QAC/BC,UAAU,EAAE,QAAQ;QACpBC,YAAY,EAAE,MAAM;QACpBC,aAAa,EAAE,MAAM;QACrBC,YAAY,EAAE;MAChB,CAAE;MAAAN,QAAA,gBACAxD,OAAA;QAAAwD,QAAA,gBACExD,OAAA;UAAAwD,QAAA,EAAI;QAAY;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrBlE,OAAA;UAAAwD,QAAA,GAAG,WAAS,EAAC7C,IAAI,CAACwD,IAAI,EAAC,IAAE,EAACxD,IAAI,CAACiB,IAAI,EAAC,GAAC;QAAA;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACNlE,OAAA;QAAKoD,KAAK,EAAE;UAAEK,OAAO,EAAE,MAAM;UAAEW,GAAG,EAAE;QAAO,CAAE;QAAAZ,QAAA,gBAC3CxD,OAAA;UACEqE,OAAO,EAAEA,CAAA,KAAM3D,QAAQ,CAAC,QAAQ,CAAE;UAClC0C,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBiB,eAAe,EAAE,SAAS;YAC1BC,KAAK,EAAE,OAAO;YACdC,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBC,MAAM,EAAE;UACV,CAAE;UAAAlB,QAAA,EACH;QAED;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTlE,OAAA;UACEqE,OAAO,EAAEA,CAAA,KAAM3D,QAAQ,CAAC,aAAa,CAAE;UACvC0C,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBiB,eAAe,EAAE,SAAS;YAC1BC,KAAK,EAAE,OAAO;YACdC,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBC,MAAM,EAAE;UACV,CAAE;UAAAlB,QAAA,EACH;QAED;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTlE,OAAA;UACEqE,OAAO,EAAEzB,YAAa;UACtBQ,KAAK,EAAE;YACLC,OAAO,EAAE,UAAU;YACnBiB,eAAe,EAAE,SAAS;YAC1BC,KAAK,EAAE,OAAO;YACdC,MAAM,EAAE,MAAM;YACdC,YAAY,EAAE,KAAK;YACnBC,MAAM,EAAE;UACV,CAAE;UAAAlB,QAAA,EACH;QAED;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL7D,KAAK,iBACJL,OAAA;MAAKoD,KAAK,EAAE;QACVmB,KAAK,EAAE,KAAK;QACZD,eAAe,EAAE,SAAS;QAC1BjB,OAAO,EAAE,MAAM;QACfoB,YAAY,EAAE,KAAK;QACnBb,YAAY,EAAE;MAChB,CAAE;MAAAJ,QAAA,EACCnD;IAAK;MAAA0D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAtD,SAAS,iBACRZ,OAAA;MAAKoD,KAAK,EAAE;QAAEuB,SAAS,EAAE,QAAQ;QAAEtB,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,EAAC;IAEtD;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,EAGA,CAACtD,SAAS,IAAIT,IAAI,iBACjBH,OAAA;MAAAwD,QAAA,gBACExD,OAAA;QAAKoD,KAAK,EAAE;UACVkB,eAAe,EAAE,OAAO;UACxBE,MAAM,EAAE,gBAAgB;UACxBC,YAAY,EAAE,KAAK;UACnBpB,OAAO,EAAE,MAAM;UACfO,YAAY,EAAE,MAAM;UACpBgB,SAAS,EAAE;QACb,CAAE;QAAApB,QAAA,gBACAxD,OAAA;UAAKoD,KAAK,EAAE;YAAEK,OAAO,EAAE,MAAM;YAAEC,cAAc,EAAE,eAAe;YAAEC,UAAU,EAAE,YAAY;YAAEC,YAAY,EAAE;UAAO,CAAE;UAAAJ,QAAA,eAC/GxD,OAAA;YAAKoD,KAAK,EAAE;cAAEyB,IAAI,EAAE;YAAE,CAAE;YAAArB,QAAA,gBACtBxD,OAAA;cAAIoD,KAAK,EAAE;gBAAEG,MAAM,EAAE,YAAY;gBAAEgB,KAAK,EAAE,MAAM;gBAAEO,QAAQ,EAAE;cAAO,CAAE;cAAAtB,QAAA,EAClErD,IAAI,CAAC4E;YAAK;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eAELlE,OAAA;cAAKoD,KAAK,EAAE;gBAAEK,OAAO,EAAE,MAAM;gBAAEuB,mBAAmB,EAAE,SAAS;gBAAEZ,GAAG,EAAE,MAAM;gBAAER,YAAY,EAAE;cAAO,CAAE;cAAAJ,QAAA,gBACjGxD,OAAA;gBAAAwD,QAAA,gBACExD,OAAA;kBAAGoD,KAAK,EAAE;oBAAEG,MAAM,EAAE,QAAQ;oBAAEuB,QAAQ,EAAE;kBAAO,CAAE;kBAAAtB,QAAA,gBAC/CxD,OAAA;oBAAAwD,QAAA,EAAQ;kBAAO;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,KAAC,EAAC/D,IAAI,CAAC8E,MAAM;gBAAA;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpC,CAAC,eACJlE,OAAA;kBAAGoD,KAAK,EAAE;oBAAEG,MAAM,EAAE,QAAQ;oBAAEuB,QAAQ,EAAE;kBAAO,CAAE;kBAAAtB,QAAA,gBAC/CxD,OAAA;oBAAAwD,QAAA,EAAQ;kBAAM;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,KAAC,EAAC/D,IAAI,CAAC+E,KAAK;gBAAA;kBAAAnB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClC,CAAC,eACJlE,OAAA;kBAAGoD,KAAK,EAAE;oBAAEG,MAAM,EAAE,QAAQ;oBAAEuB,QAAQ,EAAE;kBAAO,CAAE;kBAAAtB,QAAA,gBAC/CxD,OAAA;oBAAAwD,QAAA,EAAQ;kBAAK;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,KAAC,EAAC/D,IAAI,CAACgF,IAAI;gBAAA;kBAAApB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,eACNlE,OAAA;gBAAAwD,QAAA,gBACExD,OAAA;kBAAGoD,KAAK,EAAE;oBAAEG,MAAM,EAAE,QAAQ;oBAAEuB,QAAQ,EAAE;kBAAO,CAAE;kBAAAtB,QAAA,gBAC/CxD,OAAA;oBAAAwD,QAAA,EAAQ;kBAAa;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,KAAC,EAAC/D,IAAI,CAACiF,YAAY;gBAAA;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChD,CAAC,eACJlE,OAAA;kBAAGoD,KAAK,EAAE;oBAAEG,MAAM,EAAE,QAAQ;oBAAEuB,QAAQ,EAAE;kBAAO,CAAE;kBAAAtB,QAAA,gBAC/CxD,OAAA;oBAAAwD,QAAA,EAAQ;kBAAiB;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAClClE,OAAA;oBAAMoD,KAAK,EAAE;sBACXmB,KAAK,EAAE,CAACpE,IAAI,CAACkF,gBAAgB,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,GAAG,SAAS;sBAC/DC,UAAU,EAAE,MAAM;sBAClBC,UAAU,EAAE;oBACd,CAAE;oBAAA/B,QAAA,EACCrD,IAAI,CAACkF,gBAAgB,IAAI;kBAAC;oBAAAtB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACvB,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eACJlE,OAAA;kBAAGoD,KAAK,EAAE;oBAAEG,MAAM,EAAE,QAAQ;oBAAEuB,QAAQ,EAAE;kBAAO,CAAE;kBAAAtB,QAAA,gBAC/CxD,OAAA;oBAAAwD,QAAA,EAAQ;kBAAM;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,KAAC,EAACrB,UAAU,CAAC1C,IAAI,CAACqF,UAAU,CAAC;gBAAA;kBAAAzB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENlE,OAAA;cAAKoD,KAAK,EAAE;gBACVC,OAAO,EAAE,MAAM;gBACfiB,eAAe,EAAE,CAACnE,IAAI,CAACkF,gBAAgB,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,GAAG,SAAS;gBACzEZ,YAAY,EAAE,KAAK;gBACnBD,MAAM,EAAE,aAAa,CAACrE,IAAI,CAACkF,gBAAgB,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,GAAG,SAAS,EAAE;gBAC/EzB,YAAY,EAAE;cAChB,CAAE;cAAAJ,QAAA,eACAxD,OAAA;gBAAGoD,KAAK,EAAE;kBACRG,MAAM,EAAE,GAAG;kBACXgB,KAAK,EAAE,CAACpE,IAAI,CAACkF,gBAAgB,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,GAAG,SAAS;kBAC/DC,UAAU,EAAE;gBACd,CAAE;gBAAA9B,QAAA,EACC,CAACrD,IAAI,CAACkF,gBAAgB,IAAI,CAAC,IAAI,CAAC,GAC7B,2CAA2ClF,IAAI,CAACkF,gBAAgB,oBAAoB,GACpF;cAAsD;gBAAAtB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEzD;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNlE,OAAA;UAAKoD,KAAK,EAAE;YAAEK,OAAO,EAAE,MAAM;YAAEW,GAAG,EAAE,MAAM;YAAEqB,QAAQ,EAAE;UAAO,CAAE;UAAAjC,QAAA,GAC5D7C,IAAI,CAACiB,IAAI,KAAK,QAAQ,iBACrB5B,OAAA;YACEqE,OAAO,EAAEhC,gBAAiB;YAC1BqD,QAAQ,EAAE9E,SAAS,IAAI,CAACT,IAAI,CAACkF,gBAAgB,IAAI,CAAC,KAAK,CAAE;YACzDjC,KAAK,EAAE;cACLC,OAAO,EAAE,WAAW;cACpBiB,eAAe,EAAE,CAACnE,IAAI,CAACkF,gBAAgB,IAAI,CAAC,IAAI,CAAC,GAAG,SAAS,GAAG,SAAS;cACzEd,KAAK,EAAE,OAAO;cACdC,MAAM,EAAE,MAAM;cACdC,YAAY,EAAE,KAAK;cACnBC,MAAM,EAAE9D,SAAS,IAAI,CAACT,IAAI,CAACkF,gBAAgB,IAAI,CAAC,KAAK,CAAC,GAAG,aAAa,GAAG,SAAS;cAClFP,QAAQ,EAAE,MAAM;cAChBQ,UAAU,EAAE;YACd,CAAE;YAAA9B,QAAA,EAED,CAACrD,IAAI,CAACkF,gBAAgB,IAAI,CAAC,IAAI,CAAC,GAAG,kBAAkB,GAAG;UAAe;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClE,CACT,EAEAvD,IAAI,CAACiB,IAAI,KAAK,WAAW,iBACxB5B,OAAA;YACEqE,OAAO,EAAEA,CAAA,KAAM3D,QAAQ,CAAC,UAAUP,IAAI,CAACM,EAAE,OAAO,CAAE;YAClD2C,KAAK,EAAE;cACLC,OAAO,EAAE,WAAW;cACpBiB,eAAe,EAAE,SAAS;cAC1BC,KAAK,EAAE,OAAO;cACdC,MAAM,EAAE,MAAM;cACdC,YAAY,EAAE,KAAK;cACnBC,MAAM,EAAE,SAAS;cACjBI,QAAQ,EAAE,MAAM;cAChBQ,UAAU,EAAE;YACd,CAAE;YAAA9B,QAAA,EACH;UAED;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGLvD,IAAI,CAACiB,IAAI,KAAK,WAAW,iBACxB5B,OAAA;QAAKoD,KAAK,EAAE;UACVkB,eAAe,EAAE,OAAO;UACxBE,MAAM,EAAE,gBAAgB;UACxBC,YAAY,EAAE,KAAK;UACnBpB,OAAO,EAAE,MAAM;UACfuB,SAAS,EAAE;QACb,CAAE;QAAApB,QAAA,gBACAxD,OAAA;UAAIoD,KAAK,EAAE;YAAEuC,SAAS,EAAE,GAAG;YAAE/B,YAAY,EAAE;UAAO,CAAE;UAAAJ,QAAA,GAAC,qBAChC,EAACjD,UAAU,CAACqF,MAAM,EAAC,GACxC;QAAA;UAAA7B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAEJ3D,UAAU,CAACqF,MAAM,KAAK,CAAC,gBACtB5F,OAAA;UAAGoD,KAAK,EAAE;YAAEmB,KAAK,EAAE,MAAM;YAAEsB,SAAS,EAAE;UAAS,CAAE;UAAArC,QAAA,EAAC;QAElD;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEJlE,OAAA;UAAKoD,KAAK,EAAE;YAAEK,OAAO,EAAE,MAAM;YAAEW,GAAG,EAAE;UAAO,CAAE;UAAAZ,QAAA,EAC1CjD,UAAU,CAACuF,GAAG,CAAEC,SAAS,iBACxB/F,OAAA;YAEEoD,KAAK,EAAE;cACLoB,MAAM,EAAE,gBAAgB;cACxBC,YAAY,EAAE,KAAK;cACnBpB,OAAO,EAAE,MAAM;cACfiB,eAAe,EAAE,SAAS;cAC1B0B,UAAU,EAAE,aACVD,SAAS,CAACE,aAAa,GACnB,SAAS,GACThD,SAAS,CAAC8C,SAAS,CAACG,QAAQ,CAAC,GAC3B,SAAS,GACT,SAAS;YAEnB,CAAE;YAAA1C,QAAA,eAEFxD,OAAA;cAAKoD,KAAK,EAAE;gBAAEK,OAAO,EAAE,MAAM;gBAAEC,cAAc,EAAE,eAAe;gBAAEC,UAAU,EAAE;cAAS,CAAE;cAAAH,QAAA,gBACrFxD,OAAA;gBAAAwD,QAAA,gBACExD,OAAA;kBAAGoD,KAAK,EAAE;oBAAEG,MAAM,EAAE,WAAW;oBAAE+B,UAAU,EAAE;kBAAO,CAAE;kBAAA9B,QAAA,GACnDuC,SAAS,CAACpF,IAAI,CAACwD,IAAI,EAAC,IAAE,EAAC4B,SAAS,CAACpF,IAAI,CAACwF,KAAK,EAAC,GAC/C;gBAAA;kBAAApC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACJlE,OAAA;kBAAGoD,KAAK,EAAE;oBAAEG,MAAM,EAAE,GAAG;oBAAEuB,QAAQ,EAAE,MAAM;oBAAEP,KAAK,EAAE;kBAAO,CAAE;kBAAAf,QAAA,GAAC,YAChD,EAACX,UAAU,CAACkD,SAAS,CAACK,aAAa,CAAC,EAAC,UAC1C,EAACvD,UAAU,CAACkD,SAAS,CAACG,QAAQ,CAAC,EACnCH,SAAS,CAACE,aAAa,IAAI,gBAAgBpD,UAAU,CAACkD,SAAS,CAACE,aAAa,CAAC,EAAE;gBAAA;kBAAAlC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC,eACNlE,OAAA;gBAAMoD,KAAK,EAAE;kBACXC,OAAO,EAAE,SAAS;kBAClBoB,YAAY,EAAE,MAAM;kBACpBK,QAAQ,EAAE,MAAM;kBAChBQ,UAAU,EAAE,MAAM;kBAClBhB,eAAe,EAAEyB,SAAS,CAACE,aAAa,GACpC,SAAS,GACThD,SAAS,CAAC8C,SAAS,CAACG,QAAQ,CAAC,GAC3B,SAAS,GACT,SAAS;kBACf3B,KAAK,EAAEwB,SAAS,CAACE,aAAa,GAC1B,SAAS,GACThD,SAAS,CAAC8C,SAAS,CAACG,QAAQ,CAAC,GAC3B,SAAS,GACT;gBACR,CAAE;gBAAA1C,QAAA,EACCuC,SAAS,CAACE,aAAa,GACpB,UAAU,GACVhD,SAAS,CAAC8C,SAAS,CAACG,QAAQ,CAAC,GAC3B,SAAS,GACT;cAAQ;gBAAAnC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ;UAAC,GAhDD6B,SAAS,CAACtF,EAAE;YAAAsD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAiDd,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,EAGA,CAACtD,SAAS,IAAI,CAACT,IAAI,IAAI,CAACE,KAAK,iBAC5BL,OAAA;MAAKoD,KAAK,EAAE;QAAEuB,SAAS,EAAE,QAAQ;QAAEtB,OAAO,EAAE;MAAO,CAAE;MAAAG,QAAA,gBACnDxD,OAAA;QAAAwD,QAAA,EAAI;MAAc;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvBlE,OAAA;QAAAwD,QAAA,EAAG;MAA8D;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACrElE,OAAA;QACEqE,OAAO,EAAEA,CAAA,KAAM3D,QAAQ,CAAC,QAAQ,CAAE;QAClC0C,KAAK,EAAE;UACLC,OAAO,EAAE,WAAW;UACpBiB,eAAe,EAAE,SAAS;UAC1BC,KAAK,EAAE,OAAO;UACdC,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE,KAAK;UACnBC,MAAM,EAAE,SAAS;UACjBiB,SAAS,EAAE;QACb,CAAE;QAAAnC,QAAA,EACH;MAED;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAChE,EAAA,CA1aID,WAAqB;EAAA,QAKVL,SAAS,EACPC,WAAW,EACqCC,QAAQ;AAAA;AAAAuG,EAAA,GAPrEpG,WAAqB;AA4a3B,eAAeA,WAAW;AAAC,IAAAoG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}