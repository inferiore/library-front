{"ast":null,"code":"var _jsxFileName = \"/Users/ederbarrios/Projects/Tests/Claude/library-react/src/components/BookEdit.tsx\",\n  _s = $RefreshSig$();\n// src/components/BookEdit.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport useStore from '../store/store';\nimport { booksApi, ApiError } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookEdit = () => {\n  _s();\n  const [book, setBook] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    genre: '',\n    isbn: '',\n    total_copies: 1\n  });\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    isLoading,\n    setLoading,\n    updateBook,\n    clearUser\n  } = useStore();\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (user.role !== 'librarian') {\n      navigate('/books');\n      return;\n    }\n    if (id) {\n      fetchBookDetails(parseInt(id));\n    }\n  }, [id, user, navigate]);\n  const fetchBookDetails = async bookId => {\n    if (!user) return;\n    setLoading(true);\n    setError('');\n    try {\n      const data = await booksApi.getBook(user.token, bookId);\n      const bookData = data.data;\n      setBook(bookData);\n\n      // Populate form with current book data\n      setFormData({\n        title: bookData.title,\n        author: bookData.author,\n        genre: bookData.genre,\n        isbn: bookData.isbn,\n        total_copies: bookData.total_copies\n      });\n    } catch (error) {\n      console.error('Error fetching book details:', error);\n      if (error instanceof ApiError) {\n        if (error.status === 401) {\n          clearUser();\n          navigate('/login');\n          return;\n        }\n        setError(error.message);\n      } else {\n        setError('Failed to load book details');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: name === 'total_copies' ? parseInt(value) || 1 : value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user || !book) return;\n    setIsSubmitting(true);\n    setError('');\n\n    // Basic validation\n    if (!formData.title || !formData.author || !formData.genre || !formData.isbn) {\n      setError('All fields are required');\n      setIsSubmitting(false);\n      return;\n    }\n    if (formData.total_copies < 1) {\n      setError('Total copies must be at least 1');\n      setIsSubmitting(false);\n      return;\n    }\n    try {\n      const data = await booksApi.updateBook(user.token, book.id, formData);\n      updateBook(book.id, data.data);\n      alert('Book updated successfully!');\n      navigate(`/books/${book.id}`);\n    } catch (error) {\n      console.error('Error updating book:', error);\n      setError(error instanceof ApiError ? error.message : 'Failed to update book');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleLogout = () => {\n    clearUser();\n    navigate('/login');\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString();\n  };\n  if (!user || user.role !== 'librarian') return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '800px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '30px',\n        paddingBottom: '20px',\n        borderBottom: '1px solid #eee'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Edit Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Welcome, \", user.name, \" (\", user.role, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/books'),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Back to Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), book && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(`/books/${book.id}`),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#17a2b8',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"View Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#dc3545',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        backgroundColor: '#ffebee',\n        padding: '10px',\n        borderRadius: '4px',\n        marginBottom: '20px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px'\n      },\n      children: \"Loading book details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this), !isLoading && book && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        border: '1px solid #ddd',\n        borderRadius: '8px',\n        padding: '30px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: '0 0 10px 0',\n            color: '#333'\n          },\n          children: [\"Editing: \", book.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            margin: '0'\n          },\n          children: [\"Book ID: \", book.id, \" \\u2022 Created: \", formatDate(book.created_at), \" \\u2022 Last updated: \", formatDate(book.updated_at)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), book.available_copies !== undefined && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            margin: '5px 0 0 0'\n          },\n          children: [\"Current availability: \", book.available_copies, \" / \", book.total_copies, \" copies\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '20px',\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"Title: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"Author: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"author\",\n              value: formData.author,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"Genre: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"genre\",\n              value: formData.genre,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"ISBN: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"isbn\",\n              value: formData.isbn,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '5px',\n                fontWeight: 'bold'\n              },\n              children: [\"Total Copies: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"total_copies\",\n              value: formData.total_copies,\n              onChange: handleInputChange,\n              disabled: isSubmitting,\n              min: \"1\",\n              max: \"1000\",\n              required: true,\n              style: {\n                width: '100%',\n                padding: '10px',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontSize: '16px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#666',\n                fontSize: '14px'\n              },\n              children: [\"Current: \", book.total_copies, \" copies\", book.available_copies !== undefined && ` (${book.available_copies} available)`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), formData.total_copies !== book.total_copies && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#fff3cd',\n            border: '1px solid #ffeaa7',\n            borderRadius: '4px',\n            padding: '10px',\n            marginBottom: '20px',\n            color: '#856404'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u26A0\\uFE0F Warning:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 17\n          }, this), \" Changing the total number of copies may affect book availability. Current borrowings will not be affected, but available copies may change.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => navigate(`/books/${book.id}`),\n            disabled: isSubmitting,\n            style: {\n              padding: '12px 24px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: isSubmitting ? 'not-allowed' : 'pointer',\n              fontSize: '16px'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isSubmitting,\n            style: {\n              padding: '12px 24px',\n              backgroundColor: isSubmitting ? '#6c757d' : '#28a745',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: isSubmitting ? 'not-allowed' : 'pointer',\n              fontSize: '16px',\n              fontWeight: 'bold'\n            },\n            children: isSubmitting ? 'Updating...' : 'Update Book'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }, this), !isLoading && !book && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Book Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"The book you're trying to edit doesn't exist or has been removed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/books'),\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer',\n          marginTop: '10px'\n        },\n        children: \"Back to Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n_s(BookEdit, \"77tyjMp6+nc6pYEMwcOI/d7lnkA=\", false, function () {\n  return [useParams, useNavigate, useStore];\n});\n_c = BookEdit;\nexport default BookEdit;\nvar _c;\n$RefreshReg$(_c, \"BookEdit\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useStore","booksApi","ApiError","jsxDEV","_jsxDEV","BookEdit","_s","book","setBook","formData","setFormData","title","author","genre","isbn","total_copies","error","setError","isSubmitting","setIsSubmitting","id","navigate","user","isLoading","setLoading","updateBook","clearUser","role","fetchBookDetails","parseInt","bookId","data","getBook","token","bookData","console","status","message","handleInputChange","e","name","value","target","prev","handleSubmit","preventDefault","alert","handleLogout","formatDate","dateString","Date","toLocaleDateString","style","padding","maxWidth","margin","children","display","justifyContent","alignItems","marginBottom","paddingBottom","borderBottom","fileName","_jsxFileName","lineNumber","columnNumber","gap","onClick","backgroundColor","color","border","borderRadius","cursor","textAlign","boxShadow","created_at","updated_at","available_copies","undefined","onSubmit","gridTemplateColumns","fontWeight","type","onChange","disabled","required","width","fontSize","min","max","marginTop","_c","$RefreshReg$"],"sources":["/Users/ederbarrios/Projects/Tests/Claude/library-react/src/components/BookEdit.tsx"],"sourcesContent":["\n// src/components/BookEdit.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport useStore from '../store/store';\nimport { booksApi, ApiError } from '../services/api';\n\ninterface BookEditData {\n  id: number;\n  title: string;\n  author: string;\n  genre: string;\n  isbn: string;\n  total_copies: number;\n  available_copies: number;\n  created_at: string;\n  updated_at: string;\n}\n\nconst BookEdit: React.FC = () => {\n  const [book, setBook] = useState<BookEditData | null>(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    genre: '',\n    isbn: '',\n    total_copies: 1,\n  });\n  const [error, setError] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  \n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { user, isLoading, setLoading, updateBook, clearUser } = useStore();\n\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (user.role !== 'librarian') {\n      navigate('/books');\n      return;\n    }\n    if (id) {\n      fetchBookDetails(parseInt(id));\n    }\n  }, [id, user, navigate]);\n\n  const fetchBookDetails = async (bookId: number) => {\n    if (!user) return;\n    \n    setLoading(true);\n    setError('');\n    \n    try {\n      const data = await booksApi.getBook(user.token, bookId);\n      const bookData = data.data!;\n      setBook(bookData);\n      \n      // Populate form with current book data\n      setFormData({\n        title: bookData.title,\n        author: bookData.author,\n        genre: bookData.genre,\n        isbn: bookData.isbn,\n        total_copies: bookData.total_copies,\n      });\n    } catch (error) {\n      console.error('Error fetching book details:', error);\n      if (error instanceof ApiError) {\n        if (error.status === 401) {\n          clearUser();\n          navigate('/login');\n          return;\n        }\n        setError(error.message);\n      } else {\n        setError('Failed to load book details');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: name === 'total_copies' ? parseInt(value) || 1 : value\n    }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user || !book) return;\n\n    setIsSubmitting(true);\n    setError('');\n\n    // Basic validation\n    if (!formData.title || !formData.author || !formData.genre || !formData.isbn) {\n      setError('All fields are required');\n      setIsSubmitting(false);\n      return;\n    }\n\n    if (formData.total_copies < 1) {\n      setError('Total copies must be at least 1');\n      setIsSubmitting(false);\n      return;\n    }\n\n    try {\n      const data = await booksApi.updateBook(user.token, book.id, formData);\n      updateBook(book.id, data.data!);\n      \n      alert('Book updated successfully!');\n      navigate(`/books/${book.id}`);\n    } catch (error) {\n      console.error('Error updating book:', error);\n      setError(error instanceof ApiError ? error.message : 'Failed to update book');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleLogout = () => {\n    clearUser();\n    navigate('/login');\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString();\n  };\n\n  if (!user || user.role !== 'librarian') return null;\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '800px', margin: '0 auto' }}>\n      {/* Header */}\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center', \n        marginBottom: '30px',\n        paddingBottom: '20px',\n        borderBottom: '1px solid #eee'\n      }}>\n        <div>\n          <h1>Edit Book</h1>\n          <p>Welcome, {user.name} ({user.role})</p>\n        </div>\n        <div style={{ display: 'flex', gap: '10px' }}>\n          <button \n            onClick={() => navigate('/books')}\n            style={{ \n              padding: '8px 16px', \n              backgroundColor: '#007bff', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Back to Books\n          </button>\n          {book && (\n            <button \n              onClick={() => navigate(`/books/${book.id}`)}\n              style={{ \n                padding: '8px 16px', \n                backgroundColor: '#17a2b8', \n                color: 'white', \n                border: 'none', \n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n            >\n              View Details\n            </button>\n          )}\n          <button \n            onClick={handleLogout}\n            style={{ \n              padding: '8px 16px', \n              backgroundColor: '#dc3545', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      {/* Error Display */}\n      {error && (\n        <div style={{ \n          color: 'red', \n          backgroundColor: '#ffebee', \n          padding: '10px', \n          borderRadius: '4px', \n          marginBottom: '20px' \n        }}>\n          {error}\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoading && (\n        <div style={{ textAlign: 'center', padding: '40px' }}>\n          Loading book details...\n        </div>\n      )}\n\n      {/* Edit Form */}\n      {!isLoading && book && (\n        <div style={{ \n          backgroundColor: 'white', \n          border: '1px solid #ddd', \n          borderRadius: '8px', \n          padding: '30px',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        }}>\n          <div style={{ marginBottom: '20px' }}>\n            <h2 style={{ margin: '0 0 10px 0', color: '#333' }}>\n              Editing: {book.title}\n            </h2>\n            <p style={{ color: '#666', margin: '0' }}>\n              Book ID: {book.id} • Created: {formatDate(book.created_at)} • \n              Last updated: {formatDate(book.updated_at)}\n            </p>\n            {book.available_copies !== undefined && (\n              <p style={{ color: '#666', margin: '5px 0 0 0' }}>\n                Current availability: {book.available_copies} / {book.total_copies} copies\n              </p>\n            )}\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginBottom: '20px' }}>\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Title: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Author: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"author\"\n                  value={formData.author}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Genre: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"genre\"\n                  value={formData.genre}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  ISBN: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"isbn\"\n                  value={formData.isbn}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <div>\n                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                  Total Copies: <span style={{ color: 'red' }}>*</span>\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"total_copies\"\n                  value={formData.total_copies}\n                  onChange={handleInputChange}\n                  disabled={isSubmitting}\n                  min=\"1\"\n                  max=\"1000\"\n                  required\n                  style={{ \n                    width: '100%', \n                    padding: '10px', \n                    border: '1px solid #ccc', \n                    borderRadius: '4px',\n                    fontSize: '16px'\n                  }}\n                />\n                <small style={{ color: '#666', fontSize: '14px' }}>\n                  Current: {book.total_copies} copies\n                  {book.available_copies !== undefined && \n                    ` (${book.available_copies} available)`\n                  }\n                </small>\n              </div>\n            </div>\n\n            {/* Warning about changing total copies */}\n            {formData.total_copies !== book.total_copies && (\n              <div style={{ \n                backgroundColor: '#fff3cd', \n                border: '1px solid #ffeaa7', \n                borderRadius: '4px', \n                padding: '10px', \n                marginBottom: '20px',\n                color: '#856404'\n              }}>\n                <strong>⚠️ Warning:</strong> Changing the total number of copies may affect book availability. \n                Current borrowings will not be affected, but available copies may change.\n              </div>\n            )}\n\n            <div style={{ display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\n              <button\n                type=\"button\"\n                onClick={() => navigate(`/books/${book.id}`)}\n                disabled={isSubmitting}\n                style={{ \n                  padding: '12px 24px', \n                  backgroundColor: '#6c757d', \n                  color: 'white', \n                  border: 'none', \n                  borderRadius: '4px',\n                  cursor: isSubmitting ? 'not-allowed' : 'pointer',\n                  fontSize: '16px'\n                }}\n              >\n                Cancel\n              </button>\n              \n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                style={{ \n                  padding: '12px 24px', \n                  backgroundColor: isSubmitting ? '#6c757d' : '#28a745', \n                  color: 'white', \n                  border: 'none', \n                  borderRadius: '4px',\n                  cursor: isSubmitting ? 'not-allowed' : 'pointer',\n                  fontSize: '16px',\n                  fontWeight: 'bold'\n                }}\n              >\n                {isSubmitting ? 'Updating...' : 'Update Book'}\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Book Not Found */}\n      {!isLoading && !book && !error && (\n        <div style={{ textAlign: 'center', padding: '40px' }}>\n          <h2>Book Not Found</h2>\n          <p>The book you're trying to edit doesn't exist or has been removed.</p>\n          <button \n            onClick={() => navigate('/books')}\n            style={{ \n              padding: '10px 20px', \n              backgroundColor: '#007bff', \n              color: 'white', \n              border: 'none', \n              borderRadius: '4px',\n              cursor: 'pointer',\n              marginTop: '10px'\n            }}\n          >\n            Back to Books\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookEdit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}